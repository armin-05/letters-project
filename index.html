<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shape Typing</title>
<style>
  html,body{margin:0;padding:0;overflow:hidden;background:black;}
  canvas{display:block;background:black;}
</style>
</head>
<body>
<canvas id="c"></canvas>
<script>
const canvas=document.getElementById("c"),ctx=canvas.getContext("2d");
let W=innerWidth,H=innerHeight;canvas.width=W;canvas.height=H;
let scale=1,baseSize=60,spacing=baseSize*1.5;
let posX=0,posY=0,col=0,row=0,grid=[];
const color="rgba(255,0,0,0.55)";
function resize(){W=innerWidth;H=innerHeight;canvas.width=W;canvas.height=H;draw();}
addEventListener("resize",resize);
function drawShape(ch,x,y,s){
 ctx.lineWidth=s/8;ctx.strokeStyle=color;ctx.fillStyle=color;ctx.lineCap="round";ctx.lineJoin="round";
 const r=s/2;const r2=r/2;
 ctx.beginPath();
 switch(ch){
  case'Q':ctx.arc(x,y,r,0,2*Math.PI);ctx.moveTo(x-r,y);ctx.lineTo(x+r,y);break;
  case'W':for(let i=-1;i<=1;i++){ctx.moveTo(x+i*r2/1.5,y-r);ctx.lineTo(x+i*r2/1.5,y+r);}break;
  case'E':for(let i=-1;i<=1;i++){ctx.moveTo(x-r,y+i*r2/1.5);ctx.lineTo(x+r,y+i*r2/1.5);}break;
  case'R':ctx.arc(x,y,r,0,2*Math.PI);ctx.moveTo(x,y-r);ctx.lineTo(x,y+r);break;
  case'T':ctx.moveTo(x,y-r);ctx.lineTo(x,y+r);ctx.moveTo(x-r,y-r);ctx.lineTo(x+r,y-r);break;
  case'Y':ctx.moveTo(x,y);ctx.lineTo(x,y-r);ctx.moveTo(x,y);ctx.lineTo(x-r2,y+r2);ctx.moveTo(x,y);ctx.lineTo(x+r2,y+r2);break;
  case'U':ctx.moveTo(x-r,y-r2);ctx.lineTo(x+r,y-r2);ctx.moveTo(x-r,y+r2);ctx.lineTo(x+r,y+r2);break;
  case'I':ctx.moveTo(x,y-r);ctx.lineTo(x,y+r);break;
  case'O':ctx.arc(x,y,r,0,2*Math.PI);break;
  case'P':ctx.arc(x,y,r*0.6,0,2*Math.PI);break;
  case'A':ctx.moveTo(x,y-r);ctx.lineTo(x+r,y+r);ctx.lineTo(x-r,y+r);ctx.closePath();break;
  case'S':for(let i=0;i<3;i++){let a=i*2*Math.PI/3;ctx.moveTo(x+r2*Math.cos(a),y+r2*Math.sin(a));ctx.arc(x+r2*Math.cos(a),y+r2*Math.sin(a),r/3,0,2*Math.PI);}break;
  case'D':for(let i=-1;i<=1;i+=2){ctx.moveTo(x,y+i*r2);ctx.arc(x,y+i*r2,r/3,0,2*Math.PI);}break;
  case'F':for(let i=-1;i<=1;i+=2){ctx.moveTo(x-r,y+i*r2/1.5);ctx.lineTo(x+r,y+i*r2/1.5);}break;
  case'G':ctx.arc(x,y,r/6,0,2*Math.PI);break;
  case'H':ctx.moveTo(x-r,y-r);ctx.lineTo(x+r,y+r);ctx.moveTo(x+r,y-r);ctx.lineTo(x-r,y+r);ctx.moveTo(x-r,y);ctx.lineTo(x+r,y);break;
  case'J':ctx.moveTo(x-r,y-r);ctx.lineTo(x+r,y-r);ctx.moveTo(x,y-r);ctx.lineTo(x,y+r);ctx.moveTo(x-r,y+r);ctx.lineTo(x+r,y+r);break;
  case'K':for(let a=0;a<Math.PI*2;a+=Math.PI/2){ctx.moveTo(x+r2*Math.cos(a),y+r2*Math.sin(a));ctx.lineTo(x+r2.5*Math.cos(a+Math.PI/4),y+r2.5*Math.sin(a+Math.PI/4));}break;
  case'L':ctx.moveTo(x,y-r);ctx.lineTo(x,y+r);ctx.moveTo(x,y);ctx.lineTo(x+r,y);break;
  case'Z':ctx.moveTo(x-r,y-r);ctx.lineTo(x+r,y-r);ctx.moveTo(x,y);ctx.arc(x,y,2,0,2*Math.PI);ctx.moveTo(x-r,y+r);ctx.lineTo(x+r,y+r);break;
  case'X':for(let a=0;a<Math.PI*2;a+=Math.PI/2){ctx.moveTo(x+r2.2*Math.cos(a),y+r2.2*Math.sin(a));ctx.lineTo(x+r2*Math.cos(a+Math.PI/4),y+r2*Math.sin(a+Math.PI/4));}break;
  case'C':ctx.arc(x,y,r,Math.PI/4,Math.PI*7/4);break;
  case'V':ctx.moveTo(x-r,y-r);ctx.lineTo(x,y+r);ctx.lineTo(x+r,y-r);break;
  case'B':for(let i=-1;i<=1;i+=2){for(let j=-1;j<=1;j+=2){ctx.moveTo(x+i*r2,y+j*r2);ctx.arc(x+i*r2,y+j*r2,r/4,0,2*Math.PI);}}break;
  case'N':ctx.moveTo(x,y);ctx.arc(x-r/2,y-r/4,r/3,0,Math.PI,true);ctx.arc(x+r/2,y-r/4,r/3,0,Math.PI,true);ctx.lineTo(x,y+r/1.5);break;
  case'M':for(let i=-1;i<=1;i++){if(i===0){ctx.arc(x+i*r2,y,r/10,0,2*Math.PI);}else{ctx.moveTo(x+i*r2,y-r);ctx.lineTo(x+i*r2,y+r);}}break;
 }
 ctx.stroke();ctx.fill();
}
function draw(){ctx.setTransform(scale,0,0,scale,0,0);ctx.clearRect(0,0,W,H);ctx.beginPath();ctx.arc(10,10,3,0,2*Math.PI);ctx.fillStyle="rgba(255,0,0,0.2)";ctx.fill();ctx.strokeStyle=color;for(let i=0;i<grid.length;i++){let g=grid[i];drawShape(g.ch,g.x,g.y,g.s);}}
function checkZoom(){
 let minX=Infinity,maxX=-Infinity,minY=Infinity,maxY=-Infinity;
 grid.forEach(g=>{minX=Math.min(minX,g.x-g.s/2);maxX=Math.max(maxX,g.x+g.s/2);minY=Math.min(minY,g.y-g.s/2);maxY=Math.max(maxY,g.y+g.s/2);});
 if(grid.length>0){
  let needOut=minX<0||maxX>W||minY<0||maxY>H;
  let needIn=!needOut&&(maxX-minX<W*0.9)&&(maxY-minY<H*0.9);
  if(needOut)scale*=0.9;
  if(needIn&&scale<1)scale*=1.1;
 }
}
function addChar(ch){if(ch<'A'||ch>'Z')return;let x=posX+spacing*col,y=posY+spacing*row;
 grid.push({ch,x,y,s:baseSize});draw();checkZoom();draw();}
function delChar(){
 if(grid.length===0)return;
 grid.pop();draw();checkZoom();draw();
}
addEventListener("keydown",e=>{
 let k=e.key.toUpperCase();
 if(k>='A'&&k<='Z'){addChar(k);}
 else if(e.key===" "){row++;}
 else if(e.key==="Enter"){row=0;col++;}
 else if(e.key==="Backspace"){e.preventDefault();delChar();if(row>0)row--;else if(col>0){col--;row=0;}}
});
draw();
</script>
</body>
</html>
